<div class="md:-mx-5 px-6 xl:px-5 xl:mt-5">
  <div class="md:flex md:-mx-5">
    <div class="md:flex-1 md:basis-1/2 md:px-5">
      <div class="border-slate-300 border-2 dark:border-zinc-800 rounded-2xl w-full overflow-auto" style="max-width: 640px; aspect-ratio: 4/3;">
        <table class="w-full flex-auto bg-slate-50 text-slate-700 dark:text-slate-300 shadow dark:bg-zinc-800 bg-opacity-50 rounded-2xl">
          <thead class="sticky top-0 bg-slate-100 dark:bg-zinc-800 z-10">
            <tr>
              <th class="pl-2 text-left md:px-3 py-2 border-b border-slate-200 dark:border-zinc-600 text-slate-900 dark:text-teal-200">Episode</th>
              <th class="text-left md:px-3 py-2 border-b border-slate-200 dark:border-zinc-600 text-slate-900 dark:text-teal-200 whitespace-nowrap">
                <span class="inline-flex items-center gap-1">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 text-gray-500 dark:text-gray-400">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5" />
                  </svg>Date
                </span>
              </th>
            </tr>
          </thead>
          <tbody data-sortable-target="tbody">
            <% @episode.project.lessons.order(:sort).each_with_sortable_id do |lesson, sortable_id| %>
              <tr>
                <% is_current = @episode.id == lesson.id %>
                <td class="m-2 <%= is_current ? 'bg-yellow-50 dark:bg-teal-900' : '' %> text-left px-3 py-2 md:px-3 py-2 border-b border-slate-200 dark:border-zinc-600 dark:text-indigo-400 <%= is_current ? '' : 'hover:indigo-300' %>">
                  <span class="inline-flex items-center gap-2">
                    <%= link_to lesson.name, project_episode_path(@episode, lesson), class: 'text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300' %>
                  </span>
                </td>
                <td class="m-2 <%= is_current ? 'bg-yellow-50 dark:bg-teal-900' : '' %> text-left text-sm px-3 py-2 md:px-3 py-2 border-b border-slate-200 dark:border-zinc-600 text-slate-700 dark:text-slate-300 whitespace-nowrap">
                  <%= lesson.date&.strftime('%b %d, %Y') || 'No date' %>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>