<p class="text-xl mt-10 mb-2 text-teal-500 tracking-wide"> Comments: </p>
<div class="px-3 py-3 block shadow rounded-2xl sm:w-full md:w-2/3">
  <% if signed_in? %>
    <%= form_with(model: Comment.new(annotation:annotation)) do |form| %>
      <div >
        <%= form.rich_text_area :note,
      class: "block shadow rounded-3xl border border-sky-100 outline-none focus-outline-2 focus:outline-sky-400 mr-5 mb-2 p-4 mt-2 w-full text-gray-500", placeholder: "Add a comment" %>
      </div>
      <%= form.hidden_field :annotation_id %>
      <%= form.hidden_field :annotation_type %>
      <div>
        <div class="flex justify-end">
          <%= form.submit "Submit", class: "rounded-xl px-3 py-2 mt-2 border-2 border-indigo-300 bg-indigo-500 hover:border-2 dark:border-zinc-900 hover:bg-indigo-400 hover:border-indigo-100 text-white font-medium whitespace-nowrap" %>
        </div>
      </div>
    <% end %>
  <% else %>
    <div > Please sign in to add a comment </div>
  <% end %>
  <% annotation.comments.where(unpublished_date: nil).order(created_at: :desc).each do |comment| %>
    <div class="my-6 sm:w-full md:w-3/4">
      <div class="flex justify-between">
        <div class="px-3 text-bold text-teal-500"> <%= comment.user.name %> </div>
        <div class="text-gray-300 text-sm px-3 justify-end"> <%= local_time(comment.created_at) %> </div>
      </div>
      <div class="px-3 text-gray-500 "> <%= comment.note %> </div>
    </div>
  <% end %>
</div>