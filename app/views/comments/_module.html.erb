<p class="text-xl mt-10 mb-2 text-gray-300 tracking-wide"> Comments: </p>
<div class="px-3 py-3 block shadow rounded-2xl sm:w-full md:w-2/3">
  <% if signed_in? %>
    <%= form_with(model: Comment.new(annotation:annotation)) do |form| %>
      <div >
        <%= form.rich_text_area :note,
      class: "block shadow rounded-3xl border border-gray-800 outline-none mr-5 px-3 py-2 mt-2 w-full text-gray-300", placeholder: "Add a comment" %>
      </div>
      <%= form.hidden_field :annotation_id %>
      <%= form.hidden_field :annotation_type %>
      <div>
        <div class="flex justify-end">
          <%= form.submit "Submit", class: "w-auto sm:w-auto rounded-2xl my-2 px-3 py-2 bg-indigo-900 hover:bg-indigo-800 font-normal text-indigo-100 inline-block font-medium cursor-pointer" %>
        </div>
      </div>
    <% end %>
  <% else %>
    <div > Please sign in to add a comment </div>
  <% end %>
  <% annotation.comments.where(unpublished_date: nil).order(created_at: :desc).each do |comment| %>
    <div class="my-6 sm:w-full md:w-3/4">
      <div class="flex justify-between">
        <div class="px-3 text-gray-400"> <%= comment.user.name %> </div>
        <div class="text-gray-500 text-sm px-3 justify-end"> <%= local_time(comment.created_at) %> </div>
      </div>
      <div class="px-3 text-gray-200 "> <%= comment.note %> </div>
    </div>
  <% end %>
</div>