<div class="flex justify-between items-center text-gray-400" id="<%= dom_id @episode %>">
  <div class="text-3xl text-bold">
    <%= @episode.name %>
  </div>
  <div class="text-xl text-semibold" >
    Project: <span> <%= link_to @episode.assignment.name, project_path(@episode.assignment), class:"text-indigo-600 text-bold hover:text-indigo-400 px-1 py-1" %> </span>
  </div>
</div>
<p>
  <%= video_tag @episode.lesson_video, controls:true if @episode.lesson_video.attached? %>
</p>
<div class="flex px-1 py-4 text-gray-400">
  <div class="w-2/3 bg-neutral-800 text-teal-500 rounded-2xl mr-2 px-3 py-3 flex-auto">
    <%= @episode.description %>
  </div>
  <div class="w-1/3 ml-2 flex-auto">
    <p class="font-bold"> Skills: </p>
    <%= @episode.skills.map{|skill| link_to(skill.name, display_skill_path(skill), class:"text-indigo-600 pl-4 hover:text-indigo-400")}.join(', ').html_safe %>
  </div>
</div>
<div class="flex">
  <div class="flex-auto">
    <p class="text-teal-500 px-2 py-1 font-bold">
      Student Reflection:
    </p>
    <div class="flex-auto bg-neutral-800 text-teal-400 rounded-2xl m-4 p-6">
      <%= @episode.student_journal %>
    </div>
    <div class="justify-self-end m-4">
      <% if current_user && current_user == @episode.assignment.student.user %>
        <%= 
        link_to("Edit", edit_project_episode_path(@episode.project, @episode), 
          class: "rounded-xl px-3 py-2 border-2 border-neutral-900 bg-cyan-500 hover:border-2 hover:bg-cyan-300 hover:border-cyan-500 font-medium whitespace-nowrap")
        %>
      <% end %>
    </div>
  </div>
  <div class="flex-auto">
    <p class="text-teal-500 px-2 py-1 font-bold">
      Teacher Comments:
    </p>
    <div class="flex-auto bg-neutral-800 text-teal-400 rounded-2xl m-4 p-6">
      <%= @episode.teacher_journal %>
    </div>
    <div class="justify-self-end m-4">
      <% if current_user && current_user == @episode.assignment.teacher.user %>
        <%= link_to("Edit", edit_project_episode_path(@episode.project, @episode),
          class: "rounded-xl px-3 py-2 border-2 border-neutral-900 bg-cyan-500 hover:border-2 hover:bg-cyan-300 hover:border-cyan-500 font-medium whitespace-nowrap")
        %>
      <% end %>
    </div>
  </div>
</div>
<%= render partial:"/comments/module", locals:{annotation:@episode} %>
