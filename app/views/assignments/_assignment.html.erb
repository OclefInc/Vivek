<div id="<%= dom_id assignment %>" class="md:flex-1 md:basis-1/2 md:px-5">
  <% if assignment.summary_video.attached? %>
    <div class="bg-black flex items-center justify-center" style="width: 640px; height: 480px; max-width: 100%;">
      <% if assignment.summary_video.attached? %>
        <%= video_tag assignment.summary_video,
          controls: true,
          style: "max-width: 100%; max-height: 100%;",
          class: "max-w-full h-auto",
          data: {
            controller: "video-autoplay",
            video_autoplay_next_url_value: assignment.first_lesson ? lesson_path(assignment.first_lesson) : nil
          } %>
      <% end %>
    </div>
  <% else %>
    <div class="bg-black flex items-center justify-center" style="width: 640px; height: 480px; max-width: 100%;">
      <%= form_with(model: @assignment) do |form| %>
        <div class="dropzone dropzone-default dz-clickable border  border-gray-300 rounded p-4" data-controller="dropzone" data-dropzone-max-file-size="10000000" data-dropzone-accepted-files="video/*" data-turbo-permanent>
          <%= form.file_field :summary_video, direct_upload: true, data: { 'dropzone-target': "input", 'dropzone-capture-mode-value': 'environment', autosubmit: true, turbosubmit: nil, camera: false } %>
          <div class="dropzone-msg dz-message needsclick">
            <h2>No Video Summary Uploaded</h2>
            <h3 class="dropzone-msg-title">Drag Video Summary File Here</h3>
            <span class="dropzone-msg-desc">Click To Browse</span>
          </div>
        </div>
        <%= form.submit class: "w-full sm:w-auto rounded-lg my-2 px-3 py-2 bg-blue-600 hover:bg-blue-400 text-white inline-block font-medium cursor-pointer" %>
      <% end %>
    </div>
  <% end %>
  <div class="my-1">
    <strong>Description:</strong>
    <p class="mb-2">
      <%= link_to assignment.student.name, assignment.student, class:'font-semibold text-blue-600 hover:text-blue-400' %>
      (Student)
    </p>
    <p class="mb-2">
      <%= link_to assignment.teacher.name, assignment.teacher, class:'font-semibold text-blue-600 hover:text-blue-400' %>
      (Teacher)
    </p>
    <%= assignment.description %>
  </div>
</div>